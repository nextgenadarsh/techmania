{"ast":null,"code":"var _jsxFileName = \"/Users/adarsh/Documents/github/techmania/src/routes/quiz-game/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Quiz from \"./components/quiz\";\nimport AllQuizes from \"./data/index.js\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultGame = {\n  quizes: null,\n  currentQuizIndex: -1\n};\n\nconst QuizGame = () => {\n  _s();\n\n  const [game, setGame] = useState(defaultGame);\n  useEffect(() => {\n    const updatedGame = { ...defaultGame\n    };\n    const quizes = AllQuizes.map((quiz, quizIndex) => ({ ...quiz,\n      index: quizIndex,\n      choices: [...quiz.choices],\n      selections: []\n    }));\n    updatedGame.quizes = quizes;\n    updatedGame.currentQuizIndex = quizes.length > 0 ? 0 : -1; // TODO: Remove below currentQuizIndex assignment\n\n    const lastValidQuestion = AllQuizes.findIndex(quiz => quiz.question === \"Question\");\n    updatedGame.currentQuizIndex = lastValidQuestion - 1;\n    setGame(updatedGame);\n  }, []);\n\n  const handleSelectChoice = choiceIndex => {\n    if (game.quizes[game.currentQuizIndex].selections.indexOf(choiceIndex) > -1) {\n      return;\n    }\n\n    const updatedGame = { ...game,\n      quizes: game.quizes.map((quiz, quizIndex) => quizIndex === game.currentQuizIndex ? { ...quiz,\n        isPass: undefined,\n        selections: quiz.answers.length < 2 ? [choiceIndex] : [...quiz.selections.slice(-1 * (quiz.answers.length - 1)), choiceIndex]\n      } : quiz)\n    };\n    setGame(updatedGame);\n  };\n\n  const handlePrev = () => {\n    setGame({ ...game,\n      currentQuizIndex: game.currentQuizIndex - 1\n    });\n  };\n\n  const handleNext = () => {\n    setGame({ ...game,\n      currentQuizIndex: game.currentQuizIndex + 1\n    });\n  };\n\n  const handleSubmitAnswer = () => {\n    const currentQuiz = game.quizes[game.currentQuizIndex];\n    const isPass = [...currentQuiz.answers].sort().join(\",\") === [...currentQuiz.selections].sort().join(\",\");\n    const updatedGame = { ...game,\n      quizes: game.quizes.map((quiz, quizIndex) => quizIndex === game.currentQuizIndex ? { ...quiz,\n        isPass\n      } : quiz)\n    };\n    setGame(updatedGame);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-game-container\",\n    children: !game.quizes ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading quizes...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this) : game.quizes.length < 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No quize found !!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-game\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Total Questions: \", game.quizes.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Quiz, {\n        quiz: game.quizes[game.currentQuizIndex],\n        onSelect: handleSelectChoice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"secondary\",\n          disabled: game.currentQuizIndex < 1,\n          onClick: handlePrev,\n          children: \"< Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary\",\n          disabled: game.quizes[game.currentQuizIndex].selections.length !== game.quizes[game.currentQuizIndex].answers.length,\n          onClick: handleSubmitAnswer,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"secondary\",\n          disabled: game.currentQuizIndex >= game.quizes.length - 1,\n          onClick: handleNext,\n          children: \"Next >\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n\n_s(QuizGame, \"yTgnV/EEHDXAyNnC8FcsM/rIhoo=\");\n\n_c = QuizGame;\nexport default QuizGame;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuizGame\");","map":{"version":3,"sources":["/Users/adarsh/Documents/github/techmania/src/routes/quiz-game/index.js"],"names":["React","useState","useEffect","Quiz","AllQuizes","defaultGame","quizes","currentQuizIndex","QuizGame","game","setGame","updatedGame","map","quiz","quizIndex","index","choices","selections","length","lastValidQuestion","findIndex","question","handleSelectChoice","choiceIndex","indexOf","isPass","undefined","answers","slice","handlePrev","handleNext","handleSubmitAnswer","currentQuiz","sort","join"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,OAAOC,SAAP,MAAsB,iBAAtB;AAEA,OAAO,aAAP;;AAEA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,MAAM,EAAE,IADU;AAElBC,EAAAA,gBAAgB,EAAE,CAAC;AAFD,CAApB;;AAKA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACrB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAACI,WAAD,CAAhC;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,WAAW,GAAG,EAAE,GAAGN;AAAL,KAApB;AACA,UAAMC,MAAM,GAAGF,SAAS,CAACQ,GAAV,CAAc,CAACC,IAAD,EAAOC,SAAP,MAAsB,EACjD,GAAGD,IAD8C;AAEjDE,MAAAA,KAAK,EAAED,SAF0C;AAGjDE,MAAAA,OAAO,EAAE,CAAC,GAAGH,IAAI,CAACG,OAAT,CAHwC;AAIjDC,MAAAA,UAAU,EAAE;AAJqC,KAAtB,CAAd,CAAf;AAMAN,IAAAA,WAAW,CAACL,MAAZ,GAAqBA,MAArB;AACAK,IAAAA,WAAW,CAACJ,gBAAZ,GAA+BD,MAAM,CAACY,MAAP,GAAgB,CAAhB,GAAoB,CAApB,GAAwB,CAAC,CAAxD,CATc,CAWd;;AACA,UAAMC,iBAAiB,GAAGf,SAAS,CAACgB,SAAV,CACxBP,IAAI,IAAIA,IAAI,CAACQ,QAAL,KAAkB,UADF,CAA1B;AAGAV,IAAAA,WAAW,CAACJ,gBAAZ,GAA+BY,iBAAiB,GAAG,CAAnD;AAEAT,IAAAA,OAAO,CAACC,WAAD,CAAP;AACD,GAlBQ,EAkBN,EAlBM,CAAT;;AAoBA,QAAMW,kBAAkB,GAAGC,WAAW,IAAI;AACxC,QACEd,IAAI,CAACH,MAAL,CAAYG,IAAI,CAACF,gBAAjB,EAAmCU,UAAnC,CAA8CO,OAA9C,CAAsDD,WAAtD,IAAqE,CAAC,CADxE,EAEE;AACA;AACD;;AACD,UAAMZ,WAAW,GAAG,EAClB,GAAGF,IADe;AAElBH,MAAAA,MAAM,EAAEG,IAAI,CAACH,MAAL,CAAYM,GAAZ,CAAgB,CAACC,IAAD,EAAOC,SAAP,KACtBA,SAAS,KAAKL,IAAI,CAACF,gBAAnB,GACI,EACE,GAAGM,IADL;AAEEY,QAAAA,MAAM,EAAEC,SAFV;AAGET,QAAAA,UAAU,EACRJ,IAAI,CAACc,OAAL,CAAaT,MAAb,GAAsB,CAAtB,GACI,CAACK,WAAD,CADJ,GAEI,CACE,GAAGV,IAAI,CAACI,UAAL,CAAgBW,KAAhB,CAAsB,CAAC,CAAD,IAAMf,IAAI,CAACc,OAAL,CAAaT,MAAb,GAAsB,CAA5B,CAAtB,CADL,EAEEK,WAFF;AANR,OADJ,GAYIV,IAbE;AAFU,KAApB;AAkBAH,IAAAA,OAAO,CAACC,WAAD,CAAP;AACD,GAzBD;;AA2BA,QAAMkB,UAAU,GAAG,MAAM;AACvBnB,IAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAWF,MAAAA,gBAAgB,EAAEE,IAAI,CAACF,gBAAL,GAAwB;AAArD,KAAD,CAAP;AACD,GAFD;;AAIA,QAAMuB,UAAU,GAAG,MAAM;AACvBpB,IAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAWF,MAAAA,gBAAgB,EAAEE,IAAI,CAACF,gBAAL,GAAwB;AAArD,KAAD,CAAP;AACD,GAFD;;AAIA,QAAMwB,kBAAkB,GAAG,MAAM;AAC/B,UAAMC,WAAW,GAAGvB,IAAI,CAACH,MAAL,CAAYG,IAAI,CAACF,gBAAjB,CAApB;AACA,UAAMkB,MAAM,GACV,CAAC,GAAGO,WAAW,CAACL,OAAhB,EAAyBM,IAAzB,GAAgCC,IAAhC,CAAqC,GAArC,MACA,CAAC,GAAGF,WAAW,CAACf,UAAhB,EAA4BgB,IAA5B,GAAmCC,IAAnC,CAAwC,GAAxC,CAFF;AAGA,UAAMvB,WAAW,GAAG,EAClB,GAAGF,IADe;AAElBH,MAAAA,MAAM,EAAEG,IAAI,CAACH,MAAL,CAAYM,GAAZ,CAAgB,CAACC,IAAD,EAAOC,SAAP,KACtBA,SAAS,KAAKL,IAAI,CAACF,gBAAnB,GACI,EACE,GAAGM,IADL;AAEEY,QAAAA;AAFF,OADJ,GAKIZ,IANE;AAFU,KAApB;AAWAH,IAAAA,OAAO,CAACC,WAAD,CAAP;AACD,GAjBD;;AAmBA,sBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA,cACG,CAACF,IAAI,CAACH,MAAN,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAEGG,IAAI,CAACH,MAAL,CAAYY,MAAZ,GAAqB,CAArB,gBACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADE,gBAGF;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE;AAAA,wCAAsBT,IAAI,CAACH,MAAL,CAAYY,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,IAAD;AACE,QAAA,IAAI,EAAET,IAAI,CAACH,MAAL,CAAYG,IAAI,CAACF,gBAAjB,CADR;AAEE,QAAA,QAAQ,EAAEe;AAFZ;AAAA;AAAA;AAAA;AAAA,cAFF,eAME;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACE;AACE,UAAA,SAAS,EAAC,WADZ;AAEE,UAAA,QAAQ,EAAEb,IAAI,CAACF,gBAAL,GAAwB,CAFpC;AAGE,UAAA,OAAO,EAAEsB,UAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE;AACE,UAAA,SAAS,EAAC,SADZ;AAEE,UAAA,QAAQ,EACNpB,IAAI,CAACH,MAAL,CAAYG,IAAI,CAACF,gBAAjB,EAAmCU,UAAnC,CAA8CC,MAA9C,KACAT,IAAI,CAACH,MAAL,CAAYG,IAAI,CAACF,gBAAjB,EAAmCoB,OAAnC,CAA2CT,MAJ/C;AAME,UAAA,OAAO,EAAEa,kBANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eAkBE;AACE,UAAA,SAAS,EAAC,WADZ;AAEE,UAAA,QAAQ,EAAEtB,IAAI,CAACF,gBAAL,IAAyBE,IAAI,CAACH,MAAL,CAAYY,MAAZ,GAAqB,CAF1D;AAGE,UAAA,OAAO,EAAEY,UAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,UADF;AA2CD,CAxHD;;GAAMtB,Q;;KAAAA,Q;AA0HN,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Quiz from \"./components/quiz\";\n\nimport AllQuizes from \"./data/index.js\";\n\nimport \"./index.css\";\n\nconst defaultGame = {\n  quizes: null,\n  currentQuizIndex: -1\n};\n\nconst QuizGame = () => {\n  const [game, setGame] = useState(defaultGame);\n\n  useEffect(() => {\n    const updatedGame = { ...defaultGame };\n    const quizes = AllQuizes.map((quiz, quizIndex) => ({\n      ...quiz,\n      index: quizIndex,\n      choices: [...quiz.choices],\n      selections: []\n    }));\n    updatedGame.quizes = quizes;\n    updatedGame.currentQuizIndex = quizes.length > 0 ? 0 : -1;\n\n    // TODO: Remove below currentQuizIndex assignment\n    const lastValidQuestion = AllQuizes.findIndex(\n      quiz => quiz.question === \"Question\"\n    );\n    updatedGame.currentQuizIndex = lastValidQuestion - 1;\n\n    setGame(updatedGame);\n  }, []);\n\n  const handleSelectChoice = choiceIndex => {\n    if (\n      game.quizes[game.currentQuizIndex].selections.indexOf(choiceIndex) > -1\n    ) {\n      return;\n    }\n    const updatedGame = {\n      ...game,\n      quizes: game.quizes.map((quiz, quizIndex) =>\n        quizIndex === game.currentQuizIndex\n          ? {\n              ...quiz,\n              isPass: undefined,\n              selections:\n                quiz.answers.length < 2\n                  ? [choiceIndex]\n                  : [\n                      ...quiz.selections.slice(-1 * (quiz.answers.length - 1)),\n                      choiceIndex\n                    ]\n            }\n          : quiz\n      )\n    };\n    setGame(updatedGame);\n  };\n\n  const handlePrev = () => {\n    setGame({ ...game, currentQuizIndex: game.currentQuizIndex - 1 });\n  };\n\n  const handleNext = () => {\n    setGame({ ...game, currentQuizIndex: game.currentQuizIndex + 1 });\n  };\n\n  const handleSubmitAnswer = () => {\n    const currentQuiz = game.quizes[game.currentQuizIndex];\n    const isPass =\n      [...currentQuiz.answers].sort().join(\",\") ===\n      [...currentQuiz.selections].sort().join(\",\");\n    const updatedGame = {\n      ...game,\n      quizes: game.quizes.map((quiz, quizIndex) =>\n        quizIndex === game.currentQuizIndex\n          ? {\n              ...quiz,\n              isPass\n            }\n          : quiz\n      )\n    };\n    setGame(updatedGame);\n  };\n\n  return (\n    <div className=\"quiz-game-container\">\n      {!game.quizes ? (\n        <div>Loading quizes...</div>\n      ) : game.quizes.length < 1 ? (\n        <div>No quize found !!</div>\n      ) : (\n        <div className=\"quiz-game\">\n          <h4>Total Questions: {game.quizes.length}</h4>\n          <Quiz\n            quiz={game.quizes[game.currentQuizIndex]}\n            onSelect={handleSelectChoice}\n          />\n          <div className=\"btn-container\">\n            <button\n              className=\"secondary\"\n              disabled={game.currentQuizIndex < 1}\n              onClick={handlePrev}\n            >\n              &lt; Prev\n            </button>\n            <button\n              className=\"primary\"\n              disabled={\n                game.quizes[game.currentQuizIndex].selections.length !==\n                game.quizes[game.currentQuizIndex].answers.length\n              }\n              onClick={handleSubmitAnswer}\n            >\n              Submit\n            </button>\n            <button\n              className=\"secondary\"\n              disabled={game.currentQuizIndex >= game.quizes.length - 1}\n              onClick={handleNext}\n            >\n              Next &gt;\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default QuizGame;\n"]},"metadata":{},"sourceType":"module"}